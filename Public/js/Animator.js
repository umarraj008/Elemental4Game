class Animator{constructor(t,a,e,i,o){switch(this.currentAnimation="idle",this.animations=null,this.x=a,this.y=e,this.w=i,this.h=o,this.timer=0,this.spriteSheet=null,t){case"fire":this.spriteSheet=fireSpriteSheet,this.animations={idle:{totalFrames:8,counter:0,offX:0,offY:0,frameWidth:224,frameHeight:112,dontLoop:!1},attack1:{totalFrames:11,counter:0,offX:0,offY:672,frameWidth:224,frameHeight:112,dontLoop:!0},attack2:{totalFrames:19,counter:0,offX:0,offY:784,frameWidth:224,frameHeight:112,dontLoop:!0},attack3:{totalFrames:28,counter:0,offX:0,offY:896,frameWidth:224,frameHeight:112,dontLoop:!0},ultimate:{totalFrames:18,counter:0,offX:0,offY:1008,frameWidth:224,frameHeight:112,dontLoop:!0},wait:{totalFrames:10,counter:0,offX:0,offY:1120,frameWidth:224,frameHeight:112,dontLoop:!0},heal:{totalFrames:10,counter:0,offX:0,offY:1120,frameWidth:224,frameHeight:112,dontLoop:!0},damage:{totalFrames:6,counter:0,offX:0,offY:1232,frameWidth:224,frameHeight:112,dontLoop:!0},dead:{totalFrames:13,counter:0,offX:0,offY:1344,frameWidth:224,frameHeight:112,dontLoop:!1},damageTime1:700,damageTime2:1e3,damageTime3:1800,damageTime4:1e3};break;case"water":this.spriteSheet=waterSpriteSheet,this.animations={idle:{totalFrames:8,counter:0,offX:0,offY:0,frameWidth:224,frameHeight:112,dontLoop:!1},attack1:{totalFrames:7,counter:0,offX:0,offY:672,frameWidth:224,frameHeight:112,dontLoop:!0},attack2:{totalFrames:21,counter:0,offX:0,offY:784,frameWidth:224,frameHeight:112,dontLoop:!0},attack3:{totalFrames:27,counter:0,offX:0,offY:896,frameWidth:224,frameHeight:112,dontLoop:!0},ultimate:{totalFrames:32,counter:0,offX:0,offY:1008,frameWidth:224,frameHeight:112,dontLoop:!0},wait:{totalFrames:12,counter:0,offX:0,offY:1120,frameWidth:224,frameHeight:112,dontLoop:!0},heal:{totalFrames:12,counter:0,offX:0,offY:1120,frameWidth:224,frameHeight:112,dontLoop:!0},damage:{totalFrames:7,counter:0,offX:0,offY:1344,frameWidth:224,frameHeight:112,dontLoop:!0},dead:{totalFrames:16,counter:0,offX:0,offY:1456,frameWidth:224,frameHeight:112,dontLoop:!1},damageTime1:300,damageTime2:1100,damageTime3:1800,damageTime4:1e3};break;case"earth":this.spriteSheet=earthSpriteSheet,this.animations={idle:{totalFrames:6,counter:0,offX:0,offY:0,frameWidth:288,frameHeight:128,dontLoop:!1},attack1:{totalFrames:6,counter:0,offX:0,offY:512,frameWidth:288,frameHeight:128,dontLoop:!0},attack2:{totalFrames:12,counter:0,offX:0,offY:640,frameWidth:288,frameHeight:128,dontLoop:!0},attack3:{totalFrames:24,counter:0,offX:0,offY:768,frameWidth:288,frameHeight:128,dontLoop:!0},ultimate:{totalFrames:25,counter:0,offX:0,offY:896,frameWidth:288,frameHeight:128,dontLoop:!0},wait:{totalFrames:16,counter:0,offX:0,offY:1024,frameWidth:288,frameHeight:128,dontLoop:!0},heal:{totalFrames:16,counter:0,offX:0,offY:1024,frameWidth:288,frameHeight:128,dontLoop:!0},damage:{totalFrames:6,counter:0,offX:0,offY:1408,frameWidth:288,frameHeight:128,dontLoop:!0},dead:{totalFrames:18,counter:0,offX:0,offY:1536,frameWidth:288,frameHeight:128,dontLoop:!1},damageTime1:400,damageTime2:1e3,damageTime3:1800,damageTime4:1500};break;case"air":this.spriteSheet=airSpriteSheet,this.animations={idle:{totalFrames:8,counter:0,offX:0,offY:0,frameWidth:224,frameHeight:112,dontLoop:!1},attack1:{totalFrames:8,counter:0,offX:0,offY:560,frameWidth:224,frameHeight:112,dontLoop:!0},attack2:{totalFrames:18,counter:0,offX:0,offY:672,frameWidth:224,frameHeight:112,dontLoop:!0},attack3:{totalFrames:26,counter:0,offX:0,offY:784,frameWidth:224,frameHeight:112,dontLoop:!0},ultimate:{totalFrames:30,counter:0,offX:0,offY:896,frameWidth:224,frameHeight:112,dontLoop:!0},wait:{totalFrames:8,counter:0,offX:0,offY:1008,frameWidth:224,frameHeight:112,dontLoop:!0},heal:{totalFrames:8,counter:0,offX:0,offY:1008,frameWidth:224,frameHeight:112,dontLoop:!0},damage:{totalFrames:6,counter:0,offX:0,offY:1120,frameWidth:224,frameHeight:112,dontLoop:!0},dead:{totalFrames:19,counter:0,offX:0,offY:1232,frameWidth:224,frameHeight:112,dontLoop:!1},damageTime1:700,damageTime2:1e3,damageTime3:1800,damageTime4:1e3}}}draw(){switch(this.currentAnimation){case"idle":this.animate(this.animations.idle);break;case"attack1":this.animate(this.animations.attack1);break;case"attack2":this.animate(this.animations.attack2);break;case"attack3":this.animate(this.animations.attack3);break;case"ultimate":this.animate(this.animations.ultimate);break;case"wait":this.animate(this.animations.wait);break;case"heal":this.animate(this.animations.heal);break;case"damage":this.animate(this.animations.damage);break;case"dead":this.animate(this.animations.dead)}}animate(t){if(ctx.drawImage(this.spriteSheet,t.offX,t.offY,t.frameWidth,t.frameHeight,this.x,this.y,this.w,this.h),"dead"==this.currentAnimation&&t.counter==t.totalFrames-1)return t.counter=t.totalFrames-1,void(t.offX=(t.totalFrames-1)*t.frameWidth);this.timer+=dt,this.timer>=83&&(t.offX+=t.frameWidth,t.counter++,this.timer=0),t.counter>t.totalFrames-1&&(t.counter=0,t.offX=0,t.dontLoop&&this.switchAnimation("idle"))}switchAnimation(t,a,e,i,o,f){switch(t){case"idle":this.animations.idle.counter=0,this.animations.idle.offX=0,this.currentAnimation="idle";break;case"attack1":this.animations.attack1.counter=0,this.animations.attack1.offX=0,this.currentAnimation="attack1",window.setTimeout(function(){a.switchAnimation("damage"),e.changeValue(i),o.changeValue(f),sceneManager.playSoundEffect("hit")},this.animations.damageTime1);break;case"attack2":this.animations.attack2.counter=0,this.animations.attack2.offX=0,this.currentAnimation="attack2",window.setTimeout(function(){a.switchAnimation("damage"),e.changeValue(i),o.changeValue(f),sceneManager.playSoundEffect("hit")},this.animations.damageTime2);break;case"attack3":this.animations.attack3.counter=0,this.animations.attack3.offX=0,this.currentAnimation="attack3",window.setTimeout(function(){a.switchAnimation("damage"),e.changeValue(i),o.changeValue(f),sceneManager.playSoundEffect("hit")},this.animations.damageTime3);break;case"ultimate":this.animations.ultimate.counter=0,this.animations.ultimate.offX=0,this.currentAnimation="ultimate",window.setTimeout(function(){a.switchAnimation("damage"),e.changeValue(i),o.changeValue(f),sceneManager.playSoundEffect("hit")},this.animations.damageTime4);break;case"wait":this.animations.wait.counter=0,this.animations.wait.offX=0,this.currentAnimation="wait";break;case"heal":this.animations.heal.counter=0,this.animations.heal.offX=0,this.currentAnimation="heal";break;case"damage":this.animations.damage.counter=0,this.animations.damage.offX=0,this.currentAnimation="damage";break;case"dead":this.animations.dead.counter=0,this.animations.dead.offX=0,this.currentAnimation="dead"}}}